<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rifa a Beneficio - Eitan al Nacional 2026</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- FontAwesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --chess-black: #1a1a1a;
            --chess-white: #f0f0f0;
            --chess-gold: #d4af37;
            --chess-accent: #c0392b; /* Rojo para vendidos */
            --chess-highlight: #f1c40f; /* Amarillo selecci√≥n */
        }

        body {
            font-family: 'Lato', sans-serif;
            background-color: var(--chess-white);
            color: var(--chess-black);
            padding-bottom: 60px; /* Espacio para la barra flotante */
        }

        h1, h2, h3, h4, .navbar-brand {
            font-family: 'Cinzel', serif; /* Fuente estilo cl√°sico/ajedrez */
        }

        /* Navbar */
        .navbar {
            background-color: var(--chess-black);
            border-bottom: 3px solid var(--chess-gold);
        }
        .navbar-brand, .nav-link {
            color: var(--chess-gold) !important;
        }
        .nav-link:hover {
            color: #fff !important;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('https://images.unsplash.com/photo-1529699211952-734e80c4d42b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 100px 0;
            text-align: center;
            position: relative;
        }

        /* --- FLIP CARD STYLES (Efecto Rey -> Foto) --- */
        .flip-container {
            background-color: transparent;
            width: 200px;
            height: 200px;
            margin: 0 auto 20px;
            perspective: 1000px; /* Necesario para el efecto 3D */
            cursor: pointer;
        }

        .flip-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s;
            transform-style: preserve-3d;
            border-radius: 50%;
            border: 5px solid var(--chess-gold);
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.5);
        }

        /* Al hacer hover o click, gira */
        .flip-container:hover .flip-inner, 
        .flip-container:active .flip-inner {
            transform: rotateY(180deg);
        }

        .flip-front, .flip-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        /* Cara Frontal: Icono del Rey */
        .flip-front {
            background-color: var(--chess-white);
            color: var(--chess-black);
        }
        .flip-front i {
            font-size: 80px;
        }

        /* Cara Trasera: Foto de Eitan */
        .flip-back {
            background-color: white;
            transform: rotateY(180deg);
        }
        .flip-back img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .hero-title {
            color: var(--chess-gold);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        /* Section Styling */
        section {
            padding: 60px 0;
        }

        /* T√≠tulos de Secci√≥n (Corregido centrado) */
        .section-title {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
            display: table; /* Permite centrado autom√°tico con margin: auto */
            margin-left: auto;
            margin-right: auto;
        }
        
        .section-title::after {
            content: '‚ôüÔ∏è';
            display: block;
            font-size: 24px;
            color: var(--chess-gold);
            margin-top: 10px;
        }

        /* Causa */
        .cause-card {
            border: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid var(--chess-gold);
        }

        /* Premios */
        .bg-chess-dark {
            background-color: var(--chess-black);
            color: white;
        }
        .prize-list li {
            margin-bottom: 10px;
            list-style: none;
        }
        .prize-icon {
            color: var(--chess-gold);
            margin-right: 10px;
            width: 25px;
            text-align: center;
        }

        /* Tablero de N√∫meros */
        .chess-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
            gap: 10px;
            padding: 20px;
            background-color: #333;
            border-radius: 10px;
            border: 4px solid var(--chess-gold);
        }

        .chess-piece {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            cursor: pointer;
            transition: transform 0.2s;
            position: relative;
            background-color: white;
            user-select: none;
        }

        .chess-piece:hover {
            transform: scale(1.1);
            z-index: 10;
        }

        .chess-piece i {
            font-size: 1.2rem;
            margin-bottom: 2px;
        }

        .chess-piece span {
            font-weight: bold;
            font-size: 0.9rem;
        }

        /* Estilos para piezas disponibles y vendidas */
        .piece-available {
            background-color: white;
            color: var(--chess-black);
            border: 2px solid #ccc;
        }
        .piece-available:nth-child(even) {
            background-color: #e0e0e0; /* Efecto tablero suave */
        }
        .piece-available:hover {
            background-color: var(--chess-gold);
            border-color: white;
            color: white;
        }

        .piece-sold {
            background-color: var(--chess-accent);
            color: white;
            opacity: 0.6;
            cursor: not-allowed;
            border: 2px solid darkred;
        }
        .piece-sold:hover {
            transform: none;
        }

        /* Nuevo: Estilo Seleccionado */
        .piece-selected {
            background-color: var(--chess-highlight) !important;
            color: black !important;
            border: 3px solid #f39c12 !important;
            transform: scale(0.95);
            box-shadow: inset 0 0 10px rgba(0,0,0,0.2);
        }

        /* Progress Bar Custom */
        .progress-container {
            max-width: 300px;
            margin: 0 auto 30px;
        }
        .progress {
            height: 10px;
            background-color: #e9ecef;
            border-radius: 5px;
            overflow: hidden;
            border: 1px solid #ccc;
        }
        .progress-bar {
            background-color: var(--chess-gold);
        }

        /* Floating Summary Bar */
        .floating-summary {
            position: fixed;
            bottom: -100px; /* Oculto inicialmente */
            left: 0;
            width: 100%;
            background-color: var(--chess-black);
            color: white;
            padding: 15px 20px;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            transition: bottom 0.3s ease-in-out;
            border-top: 2px solid var(--chess-gold);
        }
        .floating-summary.active {
            bottom: 0;
        }
        .summary-info {
            font-size: 0.9rem;
        }
        .summary-total {
            color: var(--chess-gold);
            font-weight: bold;
            font-size: 1.2rem;
        }
        .summary-numbers {
            font-size: 0.8rem;
            color: #ccc;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 150px;
            display: inline-block;
            vertical-align: middle;
        }

        /* Pago */
        .payment-btn {
            font-size: 1.2rem;
            padding: 15px 30px;
            border-radius: 50px;
            transition: all 0.3s;
            width: 100%;
            margin-bottom: 15px;
        }
        .btn-whatsapp {
            background-color: #25D366;
            color: white;
            border: none;
        }
        .btn-whatsapp:hover {
            background-color: #128C7E;
            color: white;
        }
        .btn-email {
            background-color: #EA4335;
            color: white;
            border: none;
        }
        .btn-email:hover {
            background-color: #c0392b;
            color: white;
        }

        /* ESTILOS PARA EL FLYER PROMOCIONAL (Nuevo) */
        .flyer-container {
            background: #111;
            width: 100%;
            max-width: 380px; /* Ancho t√≠pico de m√≥vil */
            margin: 20px auto;
            padding: 40px 25px;
            border: 6px double var(--chess-gold);
            text-align: center;
            color: white;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            background-image: radial-gradient(circle at center, #2a2a2a 0%, #000 100%);
            border-radius: 15px;
        }
        .flyer-title {
            font-family: 'Cinzel', serif;
            color: var(--chess-gold);
            font-size: 2.2rem;
            line-height: 1.2;
            margin-bottom: 15px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.8);
            text-transform: uppercase;
        }
        .flyer-subtitle {
            font-size: 1.1rem;
            margin-bottom: 25px;
            color: #ddd;
        }
        .flyer-img-box {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            border: 4px solid var(--chess-gold);
            margin: 0 auto 25px;
            overflow: hidden;
            background: white;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
        }
        .flyer-img-box img { width: 100%; height: 100%; object-fit: cover; }
        .flyer-prizes {
            text-align: left;
            background: rgba(255,255,255,0.08);
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            border-left: 3px solid var(--chess-gold);
        }
        .flyer-prizes h5 { color: var(--chess-gold); font-family: 'Cinzel', serif; margin-bottom: 10px; }
        .flyer-prizes ul { padding-left: 20px; margin-bottom: 0; font-size: 0.9rem; }
        .flyer-prizes li { margin-bottom: 5px; }
        
        .flyer-price-tag {
            background-color: var(--chess-gold);
            color: #000;
            font-weight: 800;
            font-size: 1.8rem;
            padding: 5px 20px;
            transform: rotate(-2deg);
            display: inline-block;
            margin-bottom: 20px;
            box-shadow: 3px 3px 0px rgba(255,255,255,0.2);
        }
        .flyer-footer {
            font-size: 0.9rem;
            color: #aaa;
            margin-top: 10px;
        }
        .screenshot-hint {
            text-align: center;
            color: #666;
            margin-top: 50px;
            margin-bottom: 10px;
            border-top: 1px dashed #ccc;
            padding-top: 20px;
        }

        /* Footer */
        footer {
            background-color: var(--chess-black);
            color: white;
            padding: 20px 0;
            text-align: center;
            border-top: 1px solid #444;
        }

        /* Mobile Adjustments */
        @media (min-width: 768px) {
            .chess-grid {
                grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            }
            .hero-title {
                font-size: 3.5rem;
            }
        }
    </style>
</head>
<body>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#"><i class="fas fa-chess-knight"></i> Eitan 2026</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#causa">La Causa</a></li>
                    <li class="nav-item"><a class="nav-link" href="#premios">Premios</a></li>
                    <li class="nav-item"><a class="nav-link" href="#numeros">N√∫meros</a></li>
                    <li class="nav-item"><a class="nav-link" href="#pago">Datos de Pago</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="hero">
        <div class="container">
            <!-- Foto de Eitan con efecto Flip -->
            <div class="flip-container">
                <div class="flip-inner">
                    <!-- Frente: Rey de Ajedrez -->
                    <div class="flip-front">
                        <i class="fas fa-chess-king"></i>
                    </div>
                    <!-- Reverso: Foto de Eitan -->
                    <div class="flip-back">
                        <img src="img/foto.jpeg" alt="Eitan" onerror="this.src='https://via.placeholder.com/200?text=Foto+Eitan'">
                    </div>
                </div>
            </div>
            
            <h1 class="hero-title">GRAN RIFA A BENEFICIO</h1>
            <h2 class="h4 mb-4 text-light">Eitan al Nacional Infantil de Ajedrez 2026</h2>
            <p class="lead mb-4">üìç Estadio Nacional ‚Äì Santiago | üìÖ Del 3 al 8 de febrero de 2026</p>
            <a href="#numeros" class="btn btn-lg btn-outline-warning rounded-pill px-5">¬°Quiero Apoyar!</a>
        </div>
    </header>

    <!-- Secci√≥n Causa -->
    <section id="causa">
        <div class="container">
            <h2 class="section-title">Nuestra Jugada Maestra</h2>
            <div class="row align-items-center">
                <div class="col-lg-8 mx-auto">
                    <div class="card cause-card bg-white p-4">
                        <p class="lead">
                            Nuestro hijo <strong>Eitan</strong> ha sido seleccionado para participar en el <strong>Nacional Infantil de Ajedrez 2026</strong>, un gran desaf√≠o que representa crecimiento, disciplina y aprendizaje. Con ayuda de Dios y suya esperamos estar presentes en esta importante competici√≥n.
                        </p>
                        <hr>
                        <p>Con esta rifa buscamos reunir fondos para cubrir:</p>
                        <div class="row text-center mt-4">
                            <div class="col-6 col-md-3 mb-3">
                                <i class="fas fa-plane fa-2x text-secondary mb-2"></i><br>Pasajes a Santiago
                            </div>
                            <div class="col-6 col-md-3 mb-3">
                                <i class="fas fa-taxi fa-2x text-secondary mb-2"></i><br>Traslados
                            </div>
                            <div class="col-6 col-md-3 mb-3">
                                <i class="fas fa-utensils fa-2x text-secondary mb-2"></i><br>Alimentaci√≥n
                            </div>
                            <div class="col-6 col-md-3 mb-3">
                                <i class="fas fa-hotel fa-2x text-secondary mb-2"></i><br>Estad√≠a
                            </div>
                        </div>
                        <p class="text-center mt-3 fw-bold">¬°Cada aporte suma y nos acerca a cumplir este sue√±o!</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n Premios -->
    <section id="premios" class="bg-light">
        <div class="container">
            <h2 class="section-title">Premios en Juego</h2>
            <div class="row g-4">
                <!-- Premios Principales -->
                <div class="col-md-4">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-header bg-chess-dark text-warning text-center">
                            <h4 class="m-0"><i class="fas fa-trophy"></i> Principales</h4>
                        </div>
                        <div class="card-body">
                            <ul class="prize-list p-0">
                                <li><i class="fas fa-blender prize-icon"></i>Picadora El√©ctrica</li>
                                <li><i class="fas fa-microphone prize-icon"></i>Micr√≥fono Lavalier inal√°mbrico K60</li>
                                <li><i class="fas fa-weight prize-icon"></i>Balanza digital inteligente</li>
                                <li><i class="fas fa-utensils prize-icon"></i>2 docenas de empanaditas queso carne</li>
                                <li><i class="fas fa-utensils prize-icon"></i>1 docena de empanaditas queso carne</li>
                                <li><i class="fas fa-tshirt prize-icon"></i>Sudadera Dragon Ball Z</li>
                                <li><i class="fas fa-tshirt prize-icon"></i>Polera de Goku (x2)</li>
                                <li><i class="fas fa-wind prize-icon"></i>Mini humidificador de aire</li>
                                <li><i class="fas fa-mobile-alt prize-icon"></i>Tr√≠pode para tel√©fono m√≥vil</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Premios Medios -->
                <div class="col-md-4">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-header bg-secondary text-white text-center">
                            <h4 class="m-0"><i class="fas fa-star"></i> Medios</h4>
                        </div>
                        <div class="card-body">
                            <ul class="prize-list p-0">
                                <li><i class="fas fa-lightbulb prize-icon"></i>Mini linterna LED recargable</li>
                                <li><i class="fas fa-jedi prize-icon"></i>Sable de luz LED</li>
                                <li><i class="fas fa-sun prize-icon"></i>M√°scara de seda protecci√≥n solar </li>
                                <li><i class="fas fa-baby prize-icon"></i>Set juguetes Montessori</li>
                                <li><i class="fas fa-paw prize-icon"></i>Kit de huellas para beb√©s</li>
                                <li><i class="fas fa-glasses prize-icon"></i>Gafas de sol marca g√©nerica</li>
                                <li><i class="fas fa-soap prize-icon"></i>4 almohadillas de fregona</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Premios Peque√±os -->
                <div class="col-md-4">
                    <div class="card h-100 border-0 shadow-sm">
                        <div class="card-header bg-secondary text-white text-center">
                            <h4 class="m-0"><i class="fas fa-gift"></i> Utilitarios</h4>
                        </div>
                        <div class="card-body">
                            <ul class="prize-list p-0">
                                <li><i class="fas fa-mitten prize-icon"></i>Par de guantes de nitrilo</li>
                                <li><i class="fas fa-cut prize-icon"></i>Maquinilla de afeitar manual</li>
                                <li><i class="fas fa-egg prize-icon"></i>Batidor de huevos</li>
                                <li><i class="fas fa-baby-carriage prize-icon"></i>Cepillo silicona botella</li>
                                <li><i class="fas fa-band-aid prize-icon"></i>Vendaje adhesivo m√©dico</li>
                                <li><i class="fas fa-child prize-icon"></i>Rodillera para beb√©</li>
                                <li><i class="fas fa-box prize-icon"></i>Cubiertas desechables alimentos</li>
                                <li><i class="fas fa-socks prize-icon"></i>Calcetines de playa (T38)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n N√∫meros -->
    <section id="numeros">
        <div class="container text-center">
            <h2 class="section-title">El Tablero de la Suerte</h2>
            
            <!-- Barra de Progreso y Disponibilidad -->
            <div class="progress-container">
                <h5 id="disponibles-text" class="fw-bold mb-2">Quedan disponibles...</h5>
                <div class="progress">
                    <div id="progress-bar" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 100%"></div>
                </div>
            </div>

            <p class="lead mb-2">Valor del n√∫mero: <strong>$1.000 CLP</strong></p>
            <p class="text-muted mb-4"><span class="badge bg-danger">Rojo</span> = Vendido / <span class="badge bg-light text-dark border">Blanco</span> = Disponible / <span class="badge" style="background-color: var(--chess-highlight); color: black;">Amarillo</span> = Tu Selecci√≥n</p>
            
            <div class="chess-grid" id="grid-numeros">
                <!-- Se rellena con JS -->
            </div>
            
            <!-- Disclaimer -->
            <div class="alert alert-warning mt-4 d-inline-block mx-auto" role="alert" style="max-width: 800px;">
                <i class="fas fa-exclamation-triangle me-2"></i> <strong>Importante:</strong> Los n√∫meros se confirman una vez se ha enviado el comprobante de pago. En caso contrario, a√∫n podr√≠an ser tomados por alguien m√°s.
            </div>
        </div>
    </section>

    <!-- Secci√≥n Pago -->
    <section id="pago" class="bg-dark text-white">
        <div class="container">
            <h2 class="section-title text-white">Confirma tu Jugada</h2>
            <div class="row justify-content-center">
                
                <!-- Datos Bancarios -->
                <div class="col-lg-5 mb-4">
                    <div class="card text-dark h-100">
                        <div class="card-body p-4 text-center">
                            <h4 class="card-title mb-4">Datos de Transferencia</h4>
                            <ul class="list-unstyled text-start d-inline-block">
                                <li class="mb-2"><i class="fas fa-university text-warning me-2"></i> <strong>Banco:</strong> Cuenta RUT (BancoEstado)</li>
                                <li class="mb-2"><i class="fas fa-fingerprint text-warning me-2"></i> <strong>RUT:</strong> 17.879.138-9</li>
                                <li class="mb-2"><i class="fas fa-user text-warning me-2"></i> <strong>Nombre:</strong> Jonathan Matus</li>
                                <li class="mb-2"><i class="fas fa-envelope text-warning me-2"></i> <strong>Correo:</strong> jonathan.matus.vidal@gmail.com</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Botones de Acci√≥n -->
                <div class="col-lg-5">
                    <div class="card text-dark h-100 bg-transparent border-0">
                        <div class="card-body p-0 d-flex flex-column justify-content-center">
                            <p class="text-white text-center mb-4">Una vez realizada la transferencia, env√≠anos el comprobante y el n√∫mero que elegiste:</p>
                            
                            <!-- Bot√≥n WhatsApp -->
                            <a id="btn-whatsapp" href="#" target="_blank" class="btn payment-btn btn-whatsapp">
                                <i class="fab fa-whatsapp"></i> Enviar a WhatsApp
                            </a>

                            <!-- Bot√≥n Correo -->
                            <a id="btn-email" href="#" class="btn payment-btn btn-email">
                                <i class="fas fa-envelope"></i> Enviar por Correo
                            </a>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- Zona de Captura (Flyer) -->
    <div class="container pb-5">
        <h3 class="screenshot-hint"><i class="fas fa-camera"></i> Zona de Captura para Redes Sociales</h3>
        <p class="text-center text-muted small">Haz una captura de pantalla al recuadro de abajo para subirlo a tus historias.</p>
        
        <div class="flyer-container" id="flyer">
            <h2 class="flyer-title">Gran Rifa<br>Eitan 2026</h2>
            <div class="flyer-img-box">
                <!-- Misma l√≥gica de imagen fallback con extensi√≥n .jpeg -->
                <img src="img/foto.jpeg" alt="Eitan" onerror="this.style.display='none'; this.parentElement.innerHTML='<i class=\'fas fa-chess-knight fa-3x text-dark\'></i>'">
            </div>
            <p class="flyer-subtitle">Ay√∫danos a llegar al Nacional de Ajedrez</p>
            
            <div class="flyer-prizes">
                <h5><i class="fas fa-trophy"></i> Premios Destacados</h5>
                <ul class="list-unstyled">
                    <li>‚Ä¢ Picadora El√©ctrica</li>
                    <li>‚Ä¢ Micr√≥fono Lavalier K60</li>
                    <li>‚Ä¢ Balanza Digital Smart</li>
                    <li>‚Ä¢ Docenas de Empanadas</li>
                    <li>‚Ä¢ Merch Anime y mucho m√°s...</li>
                </ul>
            </div>

            <div class="flyer-price-tag">$1.000 / N¬∞</div>
            
            <div>
                <span style="color:white; display:block; margin-bottom:5px;">
                    ¬°Elige tu n√∫mero ahora!
                </span>
                <div style="color:white; display:block; margin-bottom:5px;">
                    Link en la Descripci√≥n üëá
                </div>
            </div>

            <div class="flyer-footer">
                <i class="fas fa-chess"></i> Eitan al Nacional 2026 <i class="fas fa-chess"></i>
            </div>
        </div>
    </div>

    <!-- Barra Flotante de Resumen -->
    <div id="floating-bar" class="floating-summary">
        <div class="summary-info">
            <div class="summary-total" id="total-amount">$0</div>
            <div class="summary-numbers" id="selected-numbers-text">Ning√∫n n√∫mero seleccionado</div>
        </div>
        <button onclick="scrollToPayment()" class="btn btn-warning fw-bold rounded-pill">
            Ir a Pagar <i class="fas fa-arrow-right ms-1"></i>
        </button>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p class="mb-2 text-white">¬°Muchas gracias por compartir y apoyar! ¬°Dios le bendiga!</p>
            <small class="text-white">Rumbo al Nacional de Ajedrez 2026 ‚ôüÔ∏è‚ú®</small>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Script para l√≥gica de n√∫meros -->
    <script>
        // Variables globales
        let selectedNumbers = [];
        const pricePerNumber = 1000;
        
        // N√∫meros vendidos (Base de datos simple)
        const numerosVendidos = [ 
            1, 12, 20, // JUDITH NUNEZ
            7, 10, 21, 55, 100, // AYLIN MATUS
            56, // BENJAMIN MATUS
            2, 3, 150, // CLAUDIA DE VALDEBENITO
            4, 5, 9, 11, 16, 24, 28, 29, 30, 57, // ANGELICA ALIAGA
            17, 37, 73, // LILLY DE TAPIA
            25, 120, // ALEJANDRO SPINOLA
            13, 51, // JANETH GACITUA
            54, 60, 98, 121, // ELENA ACOSTA
            14, 45, 47, // ANDREA YANEZ
            8, 14, // VALENTINA ACOSTA
            35, 67, // SCARLETT CASTANEDA
            26, 40, 85, 86, // KATHY MORENO
            23, 66, 71, 77, 107, // JOSE RICARDO MATUS
            15, 19, 27, 33, 48, 79, 90, 115, 149,// INES VIDAL
            69, 125, 144, // JOHAN MATUS
            18, 88, 99, 110, 133, // MADDELINE CUBILLOS
            6, 96, 111, 122, 147, // CRISTIAN ESTRADA
            134, 135, 136, 137, 138, 139, 140, 141, 142, 143, // MARTIN DIAZ
            22, 32, 34, 36, 38, 41, 44, 46, 50, 52, 58, 61, 80 // IVAN RIQUELME
            // git commit -m "Actualizar n√∫meros vendidos"
        ];

        document.addEventListener('DOMContentLoaded', function() {
            const totalNumeros = 150;
            const gridContainer = document.getElementById('grid-numeros');
            let htmlContent = '';

            // 1. Calcular Disponibilidad y Barra de Progreso
            const vendidosCount = numerosVendidos.length;
            const disponiblesCount = totalNumeros - vendidosCount;
            const porcentajeDisponible = (disponiblesCount / totalNumeros) * 100;
            const porcentajeVendido = 100 - porcentajeDisponible; // Para llenar la barra visualmente con lo vendido o lo disponible.
            
            // Texto
            document.getElementById('disponibles-text').innerText = `Quedan ${disponiblesCount} n√∫meros disponibles`;
            
            // Barra (Llenamos la barra con lo disponible en Dorado, o invertido si prefieres)
            // Aqu√≠ haremos que la barra represente cu√°nto falta por vender. Si est√° llena es que hay todo disponible.
            const progressBar = document.getElementById('progress-bar');
            progressBar.style.width = `${porcentajeDisponible}%`;
            
            // Cambiar color barra si quedan pocos
            if (porcentajeDisponible < 20) {
                progressBar.classList.remove('bg-warning'); // o gold
                progressBar.classList.add('bg-danger');
            } else {
                progressBar.style.backgroundColor = 'var(--chess-gold)';
            }

            // 2. Generar Grid
            for (let i = 1; i <= totalNumeros; i++) {
                const isSold = numerosVendidos.includes(i);
                
                const cssClass = isSold ? 'piece-sold' : 'piece-available';
                const icon = 'fa-chess-pawn';
                const statusText = isSold ? 'Vendido' : 'Disponible';
                
                // Onclick solo si est√° disponible
                const clickAction = isSold ? '' : `onclick="toggleSelection(${i}, this)"`;

                htmlContent += `
                    <div class="chess-piece ${cssClass}" ${clickAction} id="piece-${i}" title="N√∫mero ${i} - ${statusText}">
                        <i class="fas ${icon}"></i>
                        <span>${i}</span>
                    </div>
                `;
            }

            gridContainer.innerHTML = htmlContent;
            
            // Inicializar botones de contacto con mensaje default
            updateContactLinks();
        });

        // Funci√≥n para seleccionar/deseleccionar
        function toggleSelection(number, element) {
            const index = selectedNumbers.indexOf(number);

            if (index === -1) {
                // Agregar
                selectedNumbers.push(number);
                element.classList.add('piece-selected');
            } else {
                // Quitar
                selectedNumbers.splice(index, 1);
                element.classList.remove('piece-selected');
            }

            // Ordenar para mejor lectura
            selectedNumbers.sort((a, b) => a - b);

            updateUI();
        }

        // Actualizar Barra Flotante y Enlaces
        function updateUI() {
            const floatingBar = document.getElementById('floating-bar');
            const totalAmountEl = document.getElementById('total-amount');
            const selectedNumbersTextEl = document.getElementById('selected-numbers-text');

            if (selectedNumbers.length > 0) {
                // Mostrar barra
                floatingBar.classList.add('active');
                
                // Actualizar textos
                const total = selectedNumbers.length * pricePerNumber;
                totalAmountEl.innerText = `$${total.toLocaleString('es-CL')}`;
                selectedNumbersTextEl.innerText = `N¬∞: ${selectedNumbers.join(', ')}`;
            } else {
                // Ocultar barra
                floatingBar.classList.remove('active');
            }

            updateContactLinks();
        }

        // Actualizar links de WhatsApp y Correo
        function updateContactLinks() {
            const btnWhatsapp = document.getElementById('btn-whatsapp');
            const btnEmail = document.getElementById('btn-email');

            let message = "";
            let subject = "Comprobante Rifa Eitan";

            if (selectedNumbers.length > 0) {
                const numsStr = selectedNumbers.join(', ');
                message = `Hola! Quiero comprar un n√∫mero para la rifa de Eitan. Por favor confirmarme si aun est√° disponible el ${numsStr}. Ya hice la transferencia.`;
            } else {
                message = "Hola! Quiero comprar un n√∫mero para la rifa de Eitan. Ya hice la transferencia.";
            }

            // Encode para URL
            const encodedMessage = encodeURIComponent(message);
            const encodedSubject = encodeURIComponent(subject);

            // WhatsApp
            btnWhatsapp.href = `https://wa.me/56990697854?text=${encodedMessage}`;

            // Email
            btnEmail.href = `mailto:jonathan.matus.vidal@gmail.com?subject=${encodedSubject}&body=${encodedMessage}`;
        }

        // Scroll suave al pago
        function scrollToPayment() {
            const section = document.getElementById('pago');
            section.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>